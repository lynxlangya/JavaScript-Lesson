# 比較運算符

## 1. 概述

比較運算符用於比較兩個值的大小，然後返回一個布爾值，表示是否滿足指定的條件。

javascript 一共提供了 8 個比較運算符

- `>` 大於運算符
- `<` 小於運算符
- `<=` 小於或等於運算符
- `>=` 大於或等於運算符
- `==` 相等運算符
- `===` 嚴格相等運算符
- `!=` 不相等運算符
- `!==` 嚴格不相等運算符

這八個比較運算符分成兩類：相等比較和不相等比較。兩者的規則是不一樣的，對於非相等的比較，算法是先看兩個運算子是否都是字符串，如果是的，就按照字典順序比較（實際上是比較 Unicode 碼點），否則，將兩個運算子都轉成數值，再比較數值的大小。

## 非相等運算符：非字符串的比較

如果兩個運算子之中，至少有一個不是字符串，需要分成一下兩種情況。

1. 原始類型值
   如果兩個運算子都是原始類型的值，則是先轉成數值再比較。

```js
5 > "4"; // true
// 等同於 5 > Number('4')
// 即 5 > 4
```

2. 對象
   如果運算子是對象，會轉爲原始類型的值，再進行比較

對象轉換成原始類型的值，算法是先調用 `valueOf` 方法；如果返回的還是對象，再接着調用 `toString` 方法。

## 嚴格相等運算符

JavaScript 提供了兩種相等運算符： `==` and `===`

簡單說：他們的區別是相等運算符（`==`）比較兩個值是否相等；嚴格相等運算符（`===`）比較它們是否爲同一個值。
如果兩個值不是同一類型，嚴格相等運算符（`===`）直接返回 `false` ,而相等運算符（`==`）會將它們轉換成同一個類型，再用嚴格相等運算符進行比較。

<b style="color:red;">
需要注意的是：NaN與任何值都不相等（包括自身）。

另外正 `0` 等於負 ``0`
</b>

```js
(NaN ===
  NaN + // false
    0) ===
  -0; // true
```

### 複合類型值

兩個複合類型（對象、數組、函數）的數據比較時，不是比較它們的值是否相等，而是比較它們是否指向同一個地址。

```js
{} === {}       // false

[] === []       // fasle

(function () {} === function () {} )    // false
```

上面代碼分別比較兩個空對象、兩個空數組、兩個空函數，結果都是不相等。原因是對於複合類型的值，嚴格相等運算比較的是，它們是夠引用同一個內存地址，而運算符兩邊的空對象、空數組、控函數的值，都存放在不同的內存地址，結果當然是 `false`。

如果兩個變量引用同一個對象，則它們相等。

```js
let v1 = {};
let v2 = v1;

v1 === v2; // true
```

<b style="color:red;">
注意：對於兩個對象的比較，嚴格相等運算符比較的是地址，而大於或小於運算符比較的是值。
</b>

```js
let obj1 = {};
let obj2 = {};

obj1 > obj2; // false
obj1 < obj2; // false
obj1 === obj2; // false
```

上面的三個比較，前兩個比較的是值，最後一個比較的是地址，所以都返回 `false`。

### undefined And null

`undefined` 和 `null` 與自身嚴格相等。

```js
undefined === undefined; // true
null === null; //true
```

由於變量聲明後默認值是 `undefined`,因此兩個只聲明爲賦值的變量是相等的。

```js
let v1, v2;

v1 === v2; // true
```

`undefined` 和 `null` 與其他類型的值作比較時，結果都爲 `false`，它們相互比較時結果爲 `true`

```js
false == null; // false
false == undefined; // false

0 == null; // false
0 == undefined; // false

undefined == null; // true
```

<b style="color:red;">
建議： 不要經常使用相等運算符（`==`），最好使用嚴格相等運算符（`===`）
</b>

### 不相等運算符

相等運算符有一個對應的 “不相等運算符”（`!=`），它的算法就是先求相等運算符的結果，然後返回相反值。

```js
1 != "1"; // false
// 等同於
!(1 == "1");
```
